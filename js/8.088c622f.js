"use strict";(globalThis["webpackChunkopenaimart"]=globalThis["webpackChunkopenaimart"]||[]).push([[8],{1816:(t,e,a)=>{a.d(e,{H:()=>n,N$:()=>p});var o=a(7141),r=a(4747);const l={apiKey:"AIzaSyCUMlsEn03o-yH94cFQevVLcydACVOqsgU",authDomain:"openaimart.firebaseapp.com",databaseURL:"https://openaimart-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"openaimart",storageBucket:"openaimart.appspot.com",messagingSenderId:"451690367206",appId:"1:451690367206:web:285695319035c009625327",measurementId:"G-2F5QCV37XB"},n=(0,o.ZF)(l),p=(0,r.N8)()},8341:(t,e,a)=>{a.d(e,{s:()=>n});var o=a(1809),r=function(t,e,a,o){function r(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,l){function n(t){try{i(o.next(t))}catch(e){l(e)}}function p(t){try{i(o["throw"](t))}catch(e){l(e)}}function i(t){t.done?a(t.value):r(t.value).then(n,p)}i((o=o.apply(t,e||[])).next())}))};const l={engine:"text-davinci-002",preprompt:"This is a preprompt.",prompt:"This is a prompt.",result:"",temperature:1,max_tokens:128,top_p:.5,frequency_penalty:0,presence_penalty:0,stop:null,best_of:1,title:"Untitled",author_name:"",author_id:"",tags:null},n=(0,o.Q_)("oai",{state:()=>({gpt:{},apiInfo:{api_type:"azure",azure_openai_name:localStorage.getItem("azure_openai_name")||"",api_version:"2022-12-01",api_key:localStorage.getItem("api_key")||""},promptId:""}),getters:{},actions:{resetGPT:function(){for(const t in l)this.gpt[t]=l[t]},fetchGPT:function(){return r(this,void 0,void 0,(function*(){if(console.log("starting fetchGPT"),null===this.apiInfo.api_key)return void alert("api key is null");const t=yield fetch(`https://${this.apiInfo.azure_openai_name}.openai.azure.com/openai/deployments/${this.gpt.engine}/completions?api-version=${this.apiInfo.api_version}`,{method:"POST",headers:{"Content-Type":"application/json","api-key":this.apiInfo.api_key},body:JSON.stringify({prompt:this.gpt.preprompt+this.gpt.prompt,max_tokens:"string"==typeof this.gpt.max_tokens?parseInt(this.gpt.max_tokens):this.gpt.max_tokens,temperature:this.gpt.temperature,top_p:this.gpt.top_p,frequency_penalty:this.gpt.frequency_penalty,presence_penalty:this.gpt.presence_penalty,stop:this.gpt.stop,best_of:this.gpt.best_of})}),e=yield t.json();if(e.error)return console.log(e.error),void alert(e.error.message);this.gpt.result=e.choices[0].text}))},setLocalStorage:function(){localStorage.setItem("api_key",this.apiInfo.api_key),localStorage.setItem("azure_openai_name",this.apiInfo.azure_openai_name),alert("Saved to localStorage")}}})},7008:(t,e,a)=>{a.r(e),a.d(e,{default:()=>Z});var o=a(9835),r=a(6970);const l={class:"text-h4 q-pa-md"},n={class:"q-gutter-md row items-start q-pa-md full-height"},p={class:"row q-px-md q-my-md items-start q-gutter-xs justify-start"},i={class:"text-h6"},s={class:"row q-px-md q-my-md items-start q-gutter-xs justify-start"},u={class:"text-h6"};function d(t,e,a,d,m,c){const g=(0,o.up)("q-btn"),f=(0,o.up)("q-input"),h=(0,o.up)("q-card-section"),y=(0,o.up)("q-separator"),_=(0,o.up)("q-avatar"),v=(0,o.up)("q-chip"),w=(0,o.up)("q-card-actions"),k=(0,o.up)("q-card"),U=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(U,{class:"q-pa-md"},{default:(0,o.w5)((()=>[(0,o._)("div",l,[(0,o.Uk)("Prompts "),(0,o.Wm)(g,{class:"q-mx-md",color:"primary",onClick:e[0]||(e[0]=e=>{var a,o;t.$router.replace("/prompts?a="+(null===(a=t.auth.currentUser)||void 0===a?void 0:a.uid)),t.getPromptsByAuthor(null===(o=t.auth.currentUser)||void 0===o?void 0:o.uid),t.getDraftPrompts()})},{default:(0,o.w5)((()=>[(0,o.Uk)("My Prompts")])),_:1}),(0,o.Wm)(g,{class:"q-ma-md",color:"secondary",onClick:e[1]||(e[1]=e=>{t.$router.replace("/prompts"),t.getLatestPrompts()})},{default:(0,o.w5)((()=>[(0,o.Uk)("Reset")])),_:1}),(0,o.Wm)(g,{onClick:e[2]||(e[2]=e=>t.$router.replace("/create?m=new")),flat:"",dense:"","no-wrap":"",color:"primary",icon:"add","no-caps":"",label:"Create New Prompt",class:"q-ml-sm q-px-md"})]),(0,o._)("div",n,[(0,o.Wm)(f,{filled:"",class:"col-5",modelValue:t.titleSearch,"onUpdate:modelValue":[e[3]||(e[3]=e=>t.titleSearch=e),e[4]||(e[4]=e=>t.getPromptsByTitle(t.titleSearch))],hint:"Search by Title"},null,8,["modelValue"]),(0,o.Wm)(f,{filled:"",class:"col-5",modelValue:t.tagSearch,"onUpdate:modelValue":[e[5]||(e[5]=e=>t.tagSearch=e),e[6]||(e[6]=e=>t.getPromptsByTag(t.tagSearch))],hint:"Search by Tag"},null,8,["modelValue"])]),(0,o._)("div",p,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.prompts,((e,a)=>((0,o.wg)(),(0,o.j4)(k,{key:a,flat:"",bordered:"",style:{width:"350px"},class:"my-card col-*"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o._)("div",i,(0,r.zw)(e.title.length<30?e.title:e.title.substring(0,28)+"..."),1)])),_:2},1024),(0,o.Wm)(y),(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.tags,((t,e)=>((0,o.wg)(),(0,o.j4)(v,{dense:"",key:e},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{icon:"bookmark",color:"green","text-color":"white"}),(0,o.Uk)(" "+(0,r.zw)(t),1)])),_:2},1024)))),128))])),_:2},1024),(0,o.Wm)(h,{class:"q-pt-none"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{square:"",dense:"",icon:"input",color:"primary","text-color":"white"},{default:(0,o.w5)((()=>[(0,o.Uk)("Pre-prompt")])),_:1}),(0,o.Wm)(f,{modelValue:e.preprompt,"onUpdate:modelValue":t=>e.preprompt=t,rows:"3",filled:"",type:"textarea"},null,8,["modelValue","onUpdate:modelValue"]),(0,o.Wm)(v,{square:"",dense:"",icon:"input",color:"primary","text-color":"white"},{default:(0,o.w5)((()=>[(0,o.Uk)("Prompt/Input")])),_:1}),(0,o.Wm)(f,{modelValue:e.prompt,"onUpdate:modelValue":t=>e.prompt=t,rows:"3",filled:"",type:"textarea"},null,8,["modelValue","onUpdate:modelValue"]),(0,o.Wm)(v,{square:"",dense:"",icon:"output",color:"primary","text-color":"white"},{default:(0,o.w5)((()=>[(0,o.Uk)("Result")])),_:1}),(0,o.Wm)(f,{modelValue:e.result,"onUpdate:modelValue":t=>e.result=t,rows:"3",filled:"",type:"textarea"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,o.Wm)(y),(0,o.Wm)(w,{vertical:""},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{onClick:o=>{t.setGPT(e,a),t.$router.replace("/create?m=edit")},flat:""},{default:(0,o.w5)((()=>[(0,o.Uk)("Test Now")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128))]),(0,o._)("div",s,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.drafts,((e,a)=>((0,o.wg)(),(0,o.j4)(k,{key:a,flat:"",bordered:"",style:{width:"350px"},class:"my-card col-*"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Uk)(" Draft"),(0,o._)("div",u,(0,r.zw)(e.title.length<30?e.title:e.title.substring(0,28)+"..."),1)])),_:2},1024),(0,o.Wm)(y),(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.tags,((t,e)=>((0,o.wg)(),(0,o.j4)(v,{dense:"",key:e},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{icon:"bookmark",color:"green","text-color":"white"}),(0,o.Uk)(" "+(0,r.zw)(t),1)])),_:2},1024)))),128))])),_:2},1024),(0,o.Wm)(h,{class:"q-pt-none"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{square:"",dense:"",icon:"input",color:"primary","text-color":"white"},{default:(0,o.w5)((()=>[(0,o.Uk)("Pre-prompt")])),_:1}),(0,o.Wm)(f,{modelValue:e.preprompt,"onUpdate:modelValue":t=>e.preprompt=t,rows:"3",filled:"",type:"textarea"},null,8,["modelValue","onUpdate:modelValue"]),(0,o.Wm)(v,{square:"",dense:"",icon:"input",color:"primary","text-color":"white"},{default:(0,o.w5)((()=>[(0,o.Uk)("Prompt/Input")])),_:1}),(0,o.Wm)(f,{modelValue:e.prompt,"onUpdate:modelValue":t=>e.prompt=t,rows:"3",filled:"",type:"textarea"},null,8,["modelValue","onUpdate:modelValue"]),(0,o.Wm)(v,{square:"",dense:"",icon:"output",color:"primary","text-color":"white"},{default:(0,o.w5)((()=>[(0,o.Uk)("Result")])),_:1}),(0,o.Wm)(f,{modelValue:e.result,"onUpdate:modelValue":t=>e.result=t,rows:"3",filled:"",type:"textarea"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,o.Wm)(y),(0,o.Wm)(w,{vertical:""},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{onClick:o=>{t.setGPT(e,a),t.$router.replace("/create?m=new")},flat:""},{default:(0,o.w5)((()=>[(0,o.Uk)("Test Now")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])])),_:1})}var m=a(499),c=a(4747),g=a(4836),f=a(1816),h=a(8341),y=a(8339),_=function(t,e,a,o){function r(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,l){function n(t){try{i(o.next(t))}catch(e){l(e)}}function p(t){try{i(o["throw"](t))}catch(e){l(e)}}function i(t){t.done?a(t.value):r(t.value).then(n,p)}i((o=o.apply(t,e||[])).next())}))};const v=(0,h.s)(),w=(0,c.iH)(f.N$,"prompts");let k=(0,m.iH)([{title:"Loading...",prompt:"Loading...",preprompt:"Loading...",result:"Loading..."}]),U=(0,m.iH)([]);const q=(0,o.aZ)({name:"IndexPage",components:{},setup(){const t=(0,y.yj)(),e=(0,g.v0)(f.H),a=()=>_(this,void 0,void 0,(function*(){var t;const a=(null===(t=e.currentUser)||void 0===t?void 0:t.uid)||"0",o=(0,c.IO)(w,(0,c.g2)("author_id"),(0,c.EW)(a)),r=yield(0,c.U2)(o);k.value=r.val()})),o=()=>_(this,void 0,void 0,(function*(){var t;const a=(null===(t=e.currentUser)||void 0===t?void 0:t.uid)||"0",o=(0,c.iH)(f.N$,"draft_prompts/"+a),r=(0,c.IO)(o),l=yield(0,c.U2)(r);U.value=l.val()})),r=e=>_(this,void 0,void 0,(function*(){(0,g.v0)(f.H);e||(e=t.query.a);const a=(0,c.IO)(w,(0,c.g2)("author_id"),(0,c.EW)(e)),o=yield(0,c.U2)(a);k.value=o.val()})),l=t=>_(this,void 0,void 0,(function*(){const e=(0,c.IO)(w,(0,c.g2)("title"),(0,c.e0)(t),(0,c.Wu)(t+"ï£¿")),a=yield(0,c.U2)(e);k.value=a.val()}));function n(t){return _(this,void 0,void 0,(function*(){const e=(0,c.IO)(w,(0,c.g2)("tags")),a=[],o=yield(0,c.U2)(e);o.forEach((e=>{const o=e.val();o.tags&&o.tags.includes(t)&&a.push(o)})),k.value=a}))}const p=()=>_(this,void 0,void 0,(function*(){const t=(0,c.iH)(f.N$,"prompts"),e=(0,c.IO)(t,(0,c.R)(),(0,c.vh)(500)),a=yield(0,c.U2)(e);k.value=Object.values(a.val()).reverse(),U.value=[]})),i=(t,e)=>{v.gpt.prompt=t.prompt,v.gpt.preprompt=t.preprompt,v.gpt.result=t.result,v.gpt.engine=t.engine,v.gpt.temperature=t.temperature,v.gpt.top_p=t.top_p,v.gpt.max_tokens=t.max_tokens,v.gpt.frequency_penalty=t.frequency_penalty,v.gpt.presence_penalty=t.presence_penalty,v.gpt.stop=t.stop,v.gpt.best_of=1,v.gpt.title=t.title,v.gpt.tags=t.tags,v.gpt.author_id=t.author_id,v.gpt.author_name=t.author_name,v.promptId=e};return t.query.a?r():p(),{prompts:k,drafts:U,titleSearch:(0,m.iH)(""),tagSearch:(0,m.iH)(""),setGPT:i,getSelfPrompts:a,getPromptsByTag:n,getPromptsByTitle:l,getPromptsByAuthor:r,getLatestPrompts:p,getDraftPrompts:o,auth:e}}});var x=a(1639),W=a(9885),V=a(4455),I=a(6611),P=a(4458),b=a(3190),S=a(926),T=a(7691),C=a(1357),H=a(1821),j=a(9984),z=a.n(j);const Q=(0,x.Z)(q,[["render",d]]),Z=Q;z()(q,"components",{QPage:W.Z,QBtn:V.Z,QInput:I.Z,QCard:P.Z,QCardSection:b.Z,QSeparator:S.Z,QChip:T.Z,QAvatar:C.Z,QCardActions:H.Z})}}]);